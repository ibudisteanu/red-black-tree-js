!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("rbTree",[],e):"object"==typeof exports?exports.rbTree=e():t.rbTree=e()}(this,function(){return function(t){function e(l){if(r[l])return r[l].exports;var n=r[l]={i:l,l:!1,exports:{}};return t[l].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,e,r){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={RED:0,BLACK:1};e["default"]=r,t.exports=e["default"]},function(t,e,r){"use strict";function l(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var l=e[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,r,l){return r&&t(e.prototype,r),l&&t(e,l),e}}(),i=r(0),u=l(i),a=r(2),f=function(){function t(e,r){n(this,t),this.key=(0,a.toNumber)(e),this.value=r,this.left=null,this.right=null,this.color=null,this.parent=null}return o(t,[{key:"isRed",value:function(){return this.color===u["default"].RED}},{key:"getValue",value:function(){return{key:this.key,value:this.value}}}]),t}();e["default"]=f,t.exports=e["default"]},function(t,e){"use strict";function r(t){var e=96;if(isNaN(t)&&"string"==typeof t){var r=t.toLowerCase();if(r.length>1){var l="",n=!0,o=!1,i=void 0;try{for(var u,a=r[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var f=u.value;l+=f.charCodeAt(0)-e+""}}catch(s){o=!0,i=s}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw i}}return parseInt(l)}return r.charCodeAt(0)-e}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.toNumber=r},function(t,e,r){"use strict";function l(t){return t&&t.__esModule?t:{"default":t}}function n(t){var e=new i["default"](null,null);return e.color=a["default"].BLACK,e.parent=t,e}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=l(o),u=r(0),a=l(u);e["default"]=n,t.exports=e["default"]},function(t,e,r){"use strict";function l(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){var r=new i["default"](t,e),l=new i["default"](null,null);l.color=a["default"].BLACK,l.left=null,l.right=null,l.parent=r;var n=new i["default"](null,null);return n.color=a["default"].BLACK,n.left=null,n.right=null,n.parent=r,r.left=l,r.right=n,r}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=l(o),u=r(0),a=l(u);e["default"]=n,t.exports=e["default"]},function(t,e,r){"use strict";function l(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var l=e[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,r,l){return r&&t(e.prototype,r),l&&t(e,l),e}}(),i=r(1),u=l(i),a=r(0),f=l(a),s=r(4),c=l(s),h=r(3),d=l(h),p=r(2),v=function(){function t(){n(this,t),this.root=null}return o(t,[{key:"clone",value:function(t){return new u["default"](t.key,t.value,t.left,t.right,t.color,t.parent)}},{key:"find",value:function(t){for(var e=(0,p.toNumber)(t),r=this.root;null!=r;)if(e<r.key)r=r.left;else{if(!(e>r.key))return r.value;r=r.right}return null}},{key:"isNilNode",value:function(t){return null==t||null==t.key&&null==t.value&&t.color===f["default"].BLACK&&null==t.left&&null==t.right}},{key:"leftMostChild",value:function(t){if(this.isNilNode(t))return null;for(;!this.isNilNode(t.left);)t=t.left;return t}},{key:"findNode",value:function(t){for(var e=this.root;null!=e;)if(t<e.key)e=e.left;else{if(!(t>e.key))return t===e.key?e:null;e=e.right}return null}},{key:"update",value:function(t,e){var r=this.findNode(t);r.value=e}},{key:"rotateRight",value:function(t){var e=t.left;this.isNilNode(e.right)?t.left=(0,d["default"])(t):t.left=e.right,this.isNilNode(e.right)||(e.right.parent=t),e.parent=t.parent,this.isNilNode(t.parent)?this.root=e:t===t.parent.right?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},{key:"rotateLeft",value:function(t){var e=t.right;this.isNilNode(e.left)?t.right=(0,d["default"])(t):t.right=e.left,this.isNilNode(e.left)||(e.left.parent=t),e.parent=t.parent,this.isNilNode(t.parent)?this.root=e:t===t.parent.left?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},{key:"insert",value:function(t,e){var r=null,l=this.root,n=(0,c["default"])(t,e);if(null==this.root)this.root=n,n.color=f["default"].BLACK,n.parent=null;else{for(;!this.isNilNode(l);)r=l,l=n.key<l.key?l.left:l.right;n.parent=r,n.key<r.key?r.left=n:r.right=n,n.left=(0,d["default"])(n),n.right=(0,d["default"])(n),n.color=f["default"].RED,this.fixTree(n)}}},{key:"fixTree",value:function(t){for(;null!=t.parent&&t.parent.color===f["default"].RED;){var e=null;if(t.parent===t.parent.parent.left){if(e=t.parent.parent.right,null!=e&&e.color===f["default"].RED){t.parent.color=f["default"].BLACK,e.color=f["default"].BLACK,t.parent.parent.color=f["default"].RED,t=t.parent.parent;continue}t===t.parent.right&&(t=t.parent,this.rotateLeft(t)),t.parent.color=f["default"].BLACK,t.parent.parent.color=f["default"].RED,this.rotateRight(t.parent.parent)}else{if(e=t.parent.parent.left,null!=e&&e.color===f["default"].RED){t.parent.color=f["default"].BLACK,e.color=f["default"].BLACK,t.parent.parent.color=f["default"].RED,t=t.parent.parent;continue}t===t.parent.left&&(t=t.parent,this.rotateRight(t)),t.parent.color=f["default"].BLACK,t.parent.parent.color=f["default"].RED,this.rotateLeft(t.parent.parent)}}this.root.color=f["default"].BLACK}},{key:"findHeight",value:function(t){if(null==t)return-1;var e=this.findHeight(t.left),r=this.findHeight(t.right);return e>r?e+1:r+1}},{key:"print",value:function(){var t=this.findHeight(this.root)+1;this.printHelper(this.root,"___",t)}},{key:"printHelper",value:function(t,e,r){var l=r;null!=t&&(t===this.root&&console.log(t.key+" color: "+t.color),null!=t.left&&console.log(e+t.left.key+" color: "+t.left.color+" (parent node "+t.left.parent.key+")"),null!=t.right&&console.log(e+t.right.key+" color: "+t.right.color+" (parent node "+t.right.parent.key+")"),l-=1,this.printHelper(t.left,e+e,l),this.printHelper(t.right,e+e,l))}},{key:"emptyTree",value:function(){this.root=null}},{key:"min",value:function(t){if(null==t||void 0===t)return{};for(;!this.isNilNode(t.left);)t=t.left;return t}},{key:"minNode",value:function(){for(var t=this.root;!this.isNilNode(t.left);)t=t.left;return t.getValue()}},{key:"maxNode",value:function(){for(var t=this.root;!this.isNilNode(t.right);)t=t.right;return t.getValue()}},{key:"transplant",value:function(t,e){null==t.parent?this.root=e:t===t.parent.left?t.parent.left=e:t.parent.right=e,e.parent=t.parent}},{key:"remove",value:function(t){var e=this.findNode(t);if(null!=e){var r=void 0,l=e,n=l.color;this.isNilNode(e.left)?(r=e.right,this.transplant(e,e.right)):this.isNilNode(e.right)?(r=e.left,this.transplant(e,e.left)):(l=this.min(e.right),n=l.color,r=l.right,l.parent===e?r.parent=l:(this.transplant(l,l.right),l.right=e.right,l.right.parent=l),this.transplant(e,l),l.left=e.left,l.left.parent=l,l.color=e.color),n===f["default"].BLACK&&this.removeFix(r)}}},{key:"removeFix",value:function(t){for(;t!==this.root&&t.color===f["default"].BLACK;)if(t===t.parent.left){var e=t.parent.right;if(e.color===f["default"].RED&&(e.color=f["default"].BLACK,t.parent.color=f["default"].RED,this.rotateLeft(t.parent),e=t.parent.right),e.left.color===f["default"].BLACK&&e.right.color===f["default"].BLACK){e.color=f["default"].RED,t=t.parent;continue}e.right.color===f["default"].BLACK&&(e.left.color=f["default"].BLACK,e.color=f["default"].RED,e=t.parent.right),e.right.color===f["default"].RED&&(e.color=t.parent.color,t.parent.color=f["default"].BLACK,e.right.color=f["default"].BLACK,this.rotateLeft(t.parent),t=this.root)}else{var r=t.parent.left;r.color===f["default"].RED&&(r.color=f["default"].BLACK,t.parent.color=f["default"].RED,this.rotateRight(t.parent),r=t.parent.left),r.right.color===f["default"].BLACK&&r.left.color===f["default"].BLACK?(r.color=f["default"].RED,t=t.parent):r.left.color===f["default"].BLACK&&(r.right.color=f["default"].BLACK,r.color=f["default"].RED,this.rotateLeft(r),r=t.parent.left),r.left.color===f["default"].RED&&(r.color=t.parent.color,t.parent.color=f["default"].BLACK,r.left.color=f["default"].BLACK,this.rotateRight(t.parent),t=this.root)}t.color=f["default"].BLACK}},{key:"inOrderSucc",value:function(t){if(this.isNilNode(t))return null;if(this.isNilNode(t.right)){for(var e=t,r=t.parent;null!=r&&r.left!==e;)e=r,r=r.parent;return null==r?null:r.getValue()}return this.leftMostChild(t.right).getValue()}},{key:"toSortedArray",value:function(){var t=[];return this.inOrder(this.root,t),t}},{key:"toArrayPreOrder",value:function(){var t=[];return this.preOrder(this.root,t),t}},{key:"toArrayPostOrder",value:function(){var t=[];return this.postOrder(this.root,t),t}},{key:"inOrder",value:function(t,e){this.isNilNode(t)||(this.inOrder(t.left,e),e.push(t.getValue()),this.inOrder(t.right,e))}},{key:"preOrder",value:function(t,e){this.isNilNode(t)||(e.push(t.getValue()),this.preOrder(t.left,e),this.preOrder(t.right,e))}},{key:"postOrder",value:function(t,e){this.isNilNode(t)||(this.postOrder(t.left,e),this.postOrder(t.right,e),e.push(t.getValue()))}}]),t}();e["default"]=v,t.exports=e["default"]}])});